{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css') }}">
{% endblock %}

{% block body %}
    <div class="panel box box-warning">
        <div class="box-header with-border">
        <h4 class="box-title">
            Gestion des utilisateurs
        </h4>
        </div>

        {% if not form.vars.valid %}
          <div class="box-body">
            <div class="alert alert-danger alert-dismissible">
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
              <h4><i class="icon fa fa-ban"></i> Alerte!</h4>
              {{ form_errors(form) }}
            </div>
          </div>
        {% endif %}

        {% if form.vars.valid %}
          <div class="alert alert-success alert-dismissible">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
            <h4><i class="icon fa fa-check"></i> Alert!</h4>
            Success alert preview. This alert is dismissable.
          </div>
        {% endif %}

        <div class="box-body">
            <form role="form" action="{{ path('admin_user')}}" method="post" >

                <!-- text input -->
                <div class="form-group">
                  <label>Nom Prénom</label>
                  {{ form_widget(form.fullname, {'attr': {'class': 'form-control',
                    'placeholder': 'Entrez un nom et prénom'}}) }}
                </div>
                <div class="form-group">
                  <label>Login</label>
                  {{ form_widget(form.username, {'attr': {'class': 'form-control',
                    'placeholder': 'Entrez un login'}}) }}
                </div>
                <div class="form-group">
                  <label for="password">Mot de passe</label>
                  {{ form_widget(form.password, {'attr': {'class': 'form-control',
                    'placeholder': 'Entrez un mot de passe'}}) }}
                </div>
                <div class="form-group">
                    <label>Email</label>
                    {{ form_widget(form.mail, {'attr': {'class': 'form-control',
                    'placeholder': 'Entrez un e-mail'}}) }}
                </div>

                <!-- select -->
                <div class="form-group">
                  <label>Statut</label>
                  {{ form_widget(form.idStatus, {'attr': {'class': 'form-control'}}) }}
                </div>

                <!-- datepicker -->
                <div class="form-group">
                  <label>{{ form_label(form.endrightdate) }}</label>

                  <div class="input-group date">
                      <div class="input-group-addon">
                      <i class="fa fa-calendar"></i>
                      </div>
                      {{ form_widget(form.endrightdate, {'attr': {'class': 'form-control pull-right datepicker',
                      'data-date-language':'fr'}}) }}
                  </div>
                  <!-- /.input group -->
              </div>

              <div class="box-footer">
                <button type="submit" class="btn btn-warning">Ajouter</button>
              </div>

              {{ form_rest(form) }}
              </form>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
<!-- bootstrap datepicker -->
<!-- Language script -->
<script src="{{ asset('bower_components/bootstrap-datepicker/js/bootstrap-datepicker.js') }}"></script>
<script src="{{ asset('bower_components/bootstrap-datepicker/js/locales/bootstrap-datepicker.fr.js') }}"></script>

<!-- Script -->
<script type="text/javascript">
$(document).ready(function(){
 $('.datepicker').datepicker({
  "format": "dd/mm/yyyy",
  "language": "fr",
  "keyboardNavigation": false,
  "setDate": new Date(),
  "autoclose": true,
  "clearBtn": true,
  "todayHighlight": true
 }); 
});
</script>
{% endblock %}
